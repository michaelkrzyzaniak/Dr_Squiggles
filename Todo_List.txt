Knitting Notes:
Stopper between pins 32 and 33
Colored yarn on inside of needle
40 rows 24 cols (+2?)
Eyes in row 21, 6 wide, pins 13 to 18
chain 1 between each crochet in bind-off row

todo: 

1) Fix 5v supply
	*make shunt to measure current
	check max current of regulator and components
	put correct capacitors on both regulators.
	work out how to power bela from headers
	Find better regulator for raspi

2) Fix laser-cut skeleton
	Eye hole too small
	eye hole could stick forward further
	notches in eye hole to receive diffuser plate
	large tentacles smaller, small ones bigger
	make yarn grabber points bigger
	make enough space for internal components (pi, bealge?)
	fix issues with wood thickness
	mounting points for solenoids and whatever they strike
	space for pins on eye controller board
	space for ttl connection to raspi?
	Fix USB hole at bottom / hold pi in place securely for plugging and unplugging pi usb
	INSERT EYE RIGHT_SIDE UP!
        make central tentacles a flat panel to hold pi in place? Just at the bottom?
	Notch for PI sd card?

3) Firmware
	*fix priority competition between eye and solenoid -- move midi read to solenoid thread?
	control striking strength
	*optimize eye code and library, check i2c speed with logic analyzer
	*Check if eye is initalized and, if not, try again
	*Turn saccades on and off automatically depending on whether rhythm is playing
	
4) Main
	*include tap strength in rhythm generation
	*make new rhythm generation algorithms, e.g. 2-beat delay
	*check if it will run on bela or raspi, and port code.
	*Add methods to Microphone.c like turn beat bell on / off.
	auto boot main in foreground of raspi
	optimize raspi for low latency, turn off x-window at boot
	New module for teaching rhythms?
	Two-beat delay fix lag between onset and beat
	Option to turn on and off quantization

5) Strikers
	find metal scraps for beat bell, other materials for other solenoids?
	Figure out which capacitors to put across solenoids

//-----------------------------------------------
CPPFLAGS+=-D__BELA__


C_SRC += $(wildcard $(PROJECT_DIR)/Robot_Communication_Framework/*.c); 


CPP_SRC += $(wildcard $(PROJECT_DIR)/Robot_Communication_Framework/*.cpp);


gcc -c -D__BELA__ -I../../../include/ *.c *.cpp


Software: malloc.c:2406: sysmalloc: Assertion `(old_top == initial_top (av) && old_size == 0) || ((unsigned long) (old_size) >= MINSIZE && prev_inuse (old_top) && ((unsigned long) old_end & (pagesize - 1)) == 0)' failed

//-----------------------------------------------
Raspberry pi
(online beat tracking demo)
use mobile hotspot from my phone to connect pi wifi to internet
sudo apt-get install libasound2-dev
gcc ../../src/*.c *.c -lasound -lm -lpthread

plug in USB Audio, make it default:

sudo raspi-config Advanced Options -> Audio -> Force
sudo raspi-config -> Interfacing -> Serial -> YES

aplay /usr/share/sounds/alsa/Front_Center.wav

https://raspberrypi.stackexchange.com/questions/80072/how-can-i-use-an-external-usb-sound-card-and-set-it-as-default
cat /proc/asound/modules
cat /proc/asound/cards


~/.asoundrc

https://www.alsa-project.org/alsa-doc/alsa-lib/_2test_2rawmidi_8c-example.html



sudo raspi-config
Start X-server after boot? --> disable
sudo apt-get purge wolfram-engine



